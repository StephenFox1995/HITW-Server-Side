<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <title>Homepage</title>
  </head>


  <body>
    <a href="/see_events_page/"><h2>See events</h2></a>


    <h3>Add Event
    <table>
      <tr>
        <td>
          Title
          <input type="text" id="event_title">
        </td>
      </tr>
      <tr>
        <td>
          Location
          <input type="text" id="event_location">
        </td>
      </tr>
      <tr>
        <td>
          Time
          <input type="text" id="event_time" value="mm:hh">
        </td>
      </tr>
      <tr>
        <td>
          Date
          <input type="text" id="event_date" value="dd/mm/yy">
        </td>
      </tr>
      <tr>
        <td>
          <input type="button" id="add_event_button" value="Add Event">
        </td>
      </tr>
    </table>


    <hr>
    <h3>Add Member<h3>
    <table>
      <tr>
        <td>
          Firstname
          <input type="text" id="member_f_name">
        </td>
      </tr>
      <tr>
        <td>
          Lastname
          <input type="text" id="member_l_name">
        </td>
      </tr>
      <tr>
        <td>
          Handicap
          <input type="text" id="member_handicap">
        </td>
      </tr>
      <tr>
        <td>
          <input type="button" id="add_member_button" value="Add Member">
        </td>
      </tr>
    </table>


  <script type="text/javascript">

  function show_events() {

    $.ajax({
       type: "GET",
       url: '/see_events_page/'
   });
  }

  $(function() {
    $("#add_member_button").click(function() {
      var member_f_name = $('#member_f_name').val();
      var member_l_name = $('#member_l_name').val();
      var member_handicap = $('#member_handicap').val();
      var jsonData = {
        "firstname" :member_f_name,
        "lastname"  :member_l_name,
        "handicap"  :member_handicap
      };
      var data = JSON.stringify(jsonData)

         $.ajax({
            type: "POST",
            url: '/add_member/',
            contentType: "application/json",
            data: data,
            success: function(data) {
              alert("Success")
            },
            failure: function() {
              alert("Something went wrong.")
            }
        });
    });

    $("#add_event_button").click(function() {
      var event_title = $('#event_title').val();
      var event_location = $('#event_location').val();
      var event_date = $('#event_date').val();
      var event_time = $('#event_time').val();

      var jsonData = {
        "title"     :event_title,
        "location"  :event_location,
        "time"      :event_time,
        "date"      :event_date
      };
      var data = JSON.stringify(jsonData)
      $.ajax({
            type: "POST",
            url: '/add_event/',
            contentType: "application/json",
            data: data,
            success: function(data) {
              alert("Success")
            },
            failure: function() {
              alert("Something went wrong.")
            }
        });
    });
  });

</script>
</html>
